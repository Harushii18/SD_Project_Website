<p hidden id="notice"><%= notice %></p>
<div style="text-align:center">
<br></br>
<h1>Manage Courses</h1>
<br></br>

<div class="container-fluid">
  <div class="row justify-content-md-center">
    <div class="col-2">
      <%= link_to 'New Course', new_course_path, class:"btn btn-primary btn-lg" %>
    </div>
  </div>
  <hr>

<div class="row">
<div class="row row-cols-1 row-cols-md-4 g-4">
<% @courses.each do |course| %>
<div class="col">
  <div class="card border-primary mb-3" style="width: 80%;">
      <h5>
        <p><%= course.CourseDescription %></p>
        <%= link_to 'Edit', edit_course_path(course), class:"btn btn-outline-primary", style: "width: 5rem; height: 2.5rem;" %>
        <%= link_to 'Delete', course, method: :delete, data: { confirm: 'Delete this course?' }, class:"btn btn-outline-danger", style: "width: 5rem; height: 2.5rem;" %>
      </h5> <!-- CARD HEADER CLOSING TAG -->

      <ul class="list-group list-group-flush">
        <% @course_specialties.each do |course_specialty| %>
            <%if course.id == course_specialty.course_id%>     <!-- if course is the course in this row-->
              <% @specialties.each do |specialty| %>
                <%if specialty.id == course_specialty.specialty_id%>
                  <li class="list-group-item"><%= specialty.SpecialtyName %> <%= link_to 'Remove', course_specialty, method: :delete, data: { confirm: 'Are you sure?' } %></li>
                <% end %>
              <% end %>
            <% end %>
          <% end %>
          <li class="list-group-item"><%= link_to 'Add Specialty', new_course_specialty_path(:course_id => course.id), class:"btn btn-outline-primary" %></li>
      </ul>
  </div> <!-- card-->
  </div>

<% end %>

</div>
</div>
</div>

</div>
